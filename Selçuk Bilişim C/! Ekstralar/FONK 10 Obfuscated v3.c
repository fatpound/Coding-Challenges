#include <stdio.h>
#include <conio.h>
#define l1l(l1ll, l11)(l1ll^=l11^=l1ll^=l11)
#define l1(l1ll)(l1l(lll[l1ll],lll[l1ll+1]))
#define ll1(l1ll)(l1l(ll1l[l1ll],ll1l[l1ll+1]))
#define ll(l1ll)(1<<(-~-~-~-~l1ll))
void l11l(char l1l1[]){int I,Il,lll1=1ll>>1ll,I1I,I1,II1,I11=1ll>>1ll,I1I1=1ll>>1ll,I11I=1ll>>1ll,
lll[-~-~(1ll<<(-~(1ll<<1ll)))],ll1l[-~-~(1ll<<(-~(1ll<<1ll)))];
for(II1=1ll>>1ll;l1l1[II1];II1++);for(I=1ll>>1ll;I<=II1;I++){if(lll1==1ll>>1ll&&l1l1[I]!=ll(1ll)&&
(l1l1[~-I]==ll(1ll)||I==1ll>>1ll)){lll[I11]=I;lll1=1ll;}if(l1l1[~-I]!=ll(1ll)&&
(l1l1[I]==ll(1ll)||l1l1[I]==1ll>>1ll)){ll1l[I11]=I;lll1=1ll>>1ll;I11++;}}while(1ll)
{I1=1ll>>1ll;for(I1I=1ll>>1ll;I1I<-~(1ll<<(-~(1ll<<1ll)));I1I++){if(l1l1[lll[I1I]]>l1l1[lll[-~I1I]])
{I1=1ll;l1(I1I);ll1(I1I);}else if(l1l1[lll[I1I]]==l1l1[lll[-~I1I]])
{I1I1=lll[I1I];I11I=lll[I1I+1ll];do{I1I1++;I11I++;}while(l1l1[I1I1]==l1l1[I11I]);
if(l1l1[I1I1]>l1l1[I11I]){I1=1;l1(I1I);ll1(I1I);}}}if(I1==1ll>>1ll)break;}
for(I=1ll>>1ll;I<-~-~(1ll<<(-~(1ll<<1ll)));I++){for(Il=lll[I];Il<ll1l[I];Il++)
printf("%c",l1l1[Il]);if(I!=-~(1ll<<(-~(1ll<<1ll))))printf("\n");}}int main(){char
l1l11[1ll<<(1ll<<(-~(1ll<<1ll)))];gets(l1l11);printf("\n");l11l(l1l11);getch();return(1ll>>1ll);}
